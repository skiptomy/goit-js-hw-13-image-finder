{"version":3,"sources":["webpack:///./template/imageCards.hbs","webpack:///./index.js","webpack:///./js/apiService.js"],"names":["Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","data","propertyIsEnumerable","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","escapeExpression","webformatURL","call","name","hash","loc","start","line","column","end","largeImageURL","likes","views","comments","downloads","compiler","main","stack1","each","fn","program","inverse","noop","useData","page","apiService","key","searchByName","requestParams","this","fetch","then","res","json","searchInput","document","querySelector","searchForm","loadMore","gallery","addImages","images","markup","layoutImageTemplate","insertAdjacentHTML","addEventListener","e","preventDefault","innerHTML","classList","add","value","length","hits","remove","PNotify","alert","error","window","scrollTo","top","scrollHeight","behavior","onclick","target","dataset","src","basicLightbox","show"],"mappings":"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","file":"main.66c5b2d859e6b1b0f3f7.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<li>\\n  <div class=\\\"photo-card\\\">\\n    <img class=\\\"photo-card__image\\\" src=\\\"\"\n    + alias5(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":40},\"end\":{\"line\":4,\"column\":56}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"100%\\\" data-src=\\\"\"\n    + alias5(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":88},\"end\":{\"line\":4,\"column\":105}}}) : helper)))\n    + \"\\\" />\\n\\n    <div class=\\\"stats\\\">\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\n        \"\n    + alias5(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":17}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">visibility</i>\\n        \"\n    + alias5(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":13,\"column\":17}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">comment</i>\\n        \"\n    + alias5(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":8},\"end\":{\"line\":17,\"column\":20}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\n        \"\n    + alias5(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":8},\"end\":{\"line\":21,\"column\":21}}}) : helper)))\n    + \"\\n      </p>\\n    </div>\\n  </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import './styles.css';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport apiService from './js/apiService.js';\nimport layoutImageTemplate from './template/imageCards.hbs';\nimport '../node_modules/pnotify/src/PNotifyBrightTheme.css';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify';\nimport * as basicLightbox from 'basiclightbox';\n\nconst searchInput = document.querySelector('input[name=query]');\nconst searchForm = document.querySelector('#search-form');\nconst loadMore = document.querySelector('button[data-action=load-more]');\nconst gallery = document.querySelector('.gallery');\n\nlet page;\n\nsearchForm.addEventListener('submit', searchImages);\n\nfunction searchImages(e) {\n  e.preventDefault();\n  cleanDisplay();\n  page = 1;\n  const name = searchInput.value;\n  if (name.length > 2) {\n    apiService.searchByName(name, page).then(data => {\n      if (data.hits.length >= 1) {\n        addImages(data.hits);\n        loadMore.classList.remove('is-hidden');\n      } else {\n        PNotify.alert(`Seems we don\\'t know word ${name}`);\n      }\n    });\n  } else {\n    PNotify.error(\n      'Sorry, but your word is very short and result will be unpredictable',\n    );\n  }\n}\n\nloadMore.addEventListener('click', loadMoreImages);\n\nfunction loadMoreImages() {\n  page++;\n  const name = searchInput.value;\n  apiService.searchByName(name, page).then(data => {\n    addImages(data.hits);\n    window.scrollTo({\n      top: gallery.scrollHeight,\n      behavior: 'smooth',\n    });\n  });\n}\n\nfunction cleanDisplay() {\n  gallery.innerHTML = '';\n  loadMore.classList.add('is-hidden');\n}\n\nfunction addImages(images) {\n  const markup = layoutImageTemplate(images);\n  return gallery.insertAdjacentHTML('beforeend', markup);\n}\n\ndocument.querySelector('.gallery').onclick = e => {\n\n  if (e.target.dataset.src != null) {\n    basicLightbox\n    .create(\n      `\n\t\t<img src=\"${e.target.dataset.src}\">\n\t`,\n    )\n    .show();\n  }\n};\n","const baseUrl = 'https://pixabay.com/api/';\n\nexport default {\n  key: '14212485-deb8165618a2af4ef4a847a14',\n\n  searchByName(name, page) {\n    const requestParams = `?image_type=photo&orientation=horizontal&q=${name}&page=${page}&per_page=12&key=${this.key}`;\n\n    return fetch(baseUrl + requestParams).then(res =>\n      res.json());\n  },\n};"],"sourceRoot":""}